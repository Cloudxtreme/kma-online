extends ../../layout.jade
block title
  title Clients
  
block links
  link(type="text/css", rel="stylesheet", href="/css/app/clients/clients.css")

block content
  div(class="container")
    div(class="fixed-action-btn" style="bottom: 45px; right: 45px;")
      a(href="clients/add", class="btn-floating btn-large waves-effect waves-light red lighten-2")
        i(class="large mdi-content-add")
        
    div(class="row")
      div(class="col s12")
        h4(class="red-text text-lighten-2 thin") Clients
    //div(class="divider red lighten-2")
    
    if clients && clients.length > 1
      div(class="row")
        div(class="col s12 m6 offset-m6")
          div(class="input-field")
            input(id="search" type="search" required)
            label(for="search")
              i(class="mdi-action-search")
              | &nbsp;&nbsp;Filter
            i(class="mdi-navigation-close")
    //br
    
    if (clients && clients.length > 0)     
      each client in clients
        div(class="row client-row", client=client.name)
          div(class="col s12")
            a(href="/app/clients/" + client._id)
              div(class="card white")
                div(class="card-content blue lighten-2 white-text")
                  div(class="row")
                    div(class="col s4")
                      div(class="row")
                        div(class="col s12")
                          span(class="card-title")= client.name
                      if (client.company)
                        div(class="row")
                          div(class="col s12")
                            span= client.company
                    div(class="col s8")
                      if (client.email)
                        div(class="row")
                          div(class="col s12 right-align")
                            span= client.email
                              
                      if (client.phone)
                        div(class="row")
                          div(class="col s12 right-align")
                            span= client.getPhoneString()
                              
                      if (client.getAddressShort())
                        div(class="row")
                          div(class="col s12 right-align")
                            span= client.getAddressShort()
                div(class="card-action")
                  a(href='/app/clients/edit/' + client._id, class="right") Edit Client
                  //a(href='#' class="right") View Client Info
                  a(href="/app/clients/" + client._id, class="right") View Projects
    else
      div(class="row")
        div(class="col s12")
          h4(class="grey-text text-lighten-1 center-align") No clients to display

block scripts
  script(src="/js/app/clients/clients.js")